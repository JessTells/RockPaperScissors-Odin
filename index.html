<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <div id="score"></div>
    <div class="container">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </div>

    <div id="cpu-choice"></div>
    <div id="result"></div>

    <script>
        const playBtns = document.querySelectorAll("button");
        
        const cpuChoice = document.getElementById("cpu-choice");
        const result = document.getElementById("result");
        const score = document.getElementById("score");
        

        var playerScore = 0;
        var cpuScore = 0;

        score.textContent = "Player Score: " + playerScore + " | Computer Score: " + cpuScore;

        function getComputerChoice(){
            let choice = (Math.random() * (2 - 0 + 1) ) << 0;
            console.log("Computer chose: " + numToRPS(choice));
            cpuChoice.textContent = "Computer chose: " + numToRPS(choice);
            return choice;
        }

        function numToRPS(num){
            switch(num){
                case 0: return "Rock";
                case 1: return "Paper";
                case 2: return "Scissors";
            }
        }

        function getPlayerChoice(choice){
            switch(choice){
                case "rock": return 0;
                case "paper": return 1;
                case "scissors": return 2;
                default: return "ERROR";
            }
        }

        function mainRound(playerChoice){
            let pChoice = getPlayerChoice(playerChoice);
            let cChoice = getComputerChoice();
            if(pChoice === cChoice){
                console.log("Tie! You both chose " + numToRPS(pChoice));
                result.textContent = "Tie! You both chose " + numToRPS(pChoice);
            }else if(cChoice - 1 === pChoice || cChoice + 2 === pChoice){
                console.log("You Lose! " + numToRPS(cChoice) + " beats " + numToRPS(pChoice));
                result.textContent = "You Lose! " + numToRPS(cChoice) + " beats " + numToRPS(pChoice);
                cpuScore++;
            }else {
                console.log("You Win! " + numToRPS(pChoice) + " beats " + numToRPS(cChoice));
                result.textContent = "You Win! " + numToRPS(pChoice) + " beats " + numToRPS(cChoice);
                playerScore++;
            }
            score.textContent = "Player Score: " + playerScore + " | Computer Score: " + cpuScore;
        }

        playBtns.forEach((button) =>{
            button.addEventListener('click', () =>{
                mainRound(button.id);
            });

        });

        
    </script>
</body>
</html>